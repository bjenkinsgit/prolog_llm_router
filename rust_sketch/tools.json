{
  "tools": [
    {
      "name": "get_weather",
      "description": "Get current weather for a location using OpenWeatherMap",
      "parameters": {
        "type": "object",
        "properties": {
          "location": {
            "type": "string",
            "description": "City name or location"
          },
          "date": {
            "type": "string",
            "description": "Date in YYYY-MM-DD format"
          }
        },
        "required": ["location", "date"]
      },
      "endpoint": {
        "url": "https://api.openweathermap.org/data/2.5/weather",
        "method": "GET",
        "query": {
          "q": "{{location}}",
          "appid": "${OPENWEATHER_API_KEY}",
          "units": "metric"
        },
        "headers": {
          "Accept": "application/json"
        },
        "response_path": "$.weather[0].description",
        "timeout_secs": 10
      }
    },
    {
      "name": "get_apple_weather",
      "description": "Get weather for a location using Apple WeatherKit. Supports current weather, forecasts, and bad weather assessments.",
      "parameters": {
        "type": "object",
        "properties": {
          "location": {
            "type": "string",
            "description": "City name (e.g., NYC, London, Tokyo)"
          },
          "date": {
            "type": "string",
            "description": "Start date in YYYY-MM-DD format (optional, defaults to today)"
          },
          "date_end": {
            "type": "string",
            "description": "End date in YYYY-MM-DD format for date ranges (optional)"
          },
          "weather_query": {
            "type": "string",
            "enum": ["current", "forecast", "assessment"],
            "description": "Type of weather query: current (single day), forecast (multi-day), assessment (bad weather check)"
          }
        },
        "required": ["location"]
      }
    },
    {
      "name": "echo_test",
      "description": "Test tool that echoes arguments via httpbin (for testing)",
      "parameters": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Message to echo"
          }
        },
        "required": ["message"]
      },
      "endpoint": {
        "url": "https://httpbin.org/get",
        "method": "GET",
        "query": {
          "message": "{{message}}"
        },
        "response_path": "$.args.message",
        "timeout_secs": 10
      }
    },
    {
      "name": "post_test",
      "description": "Test POST endpoint via httpbin",
      "parameters": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "content": {
            "type": "string"
          }
        },
        "required": ["title"]
      },
      "endpoint": {
        "url": "https://httpbin.org/post",
        "method": "POST",
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "title": "{{title}}",
          "content": "{{content}}"
        },
        "response_path": "$.json.title",
        "timeout_secs": 10
      }
    },
    {
      "name": "search_notes",
      "description": "Search Apple Notes by query. Returns matching notes with title, folder, and snippet.",
      "parameters": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "Search term to find in note titles and bodies"
          },
          "folder": {
            "type": "string",
            "description": "Optional: limit search to specific folder name"
          }
        },
        "required": ["query"]
      }
    },
    {
      "name": "list_notes",
      "description": "List all Apple Notes, optionally filtered by folder",
      "parameters": {
        "type": "object",
        "properties": {
          "folder": {
            "type": "string",
            "description": "Optional: folder name to list notes from"
          }
        },
        "required": []
      }
    },
    {
      "name": "get_note",
      "description": "Get the full content of a specific Apple Note by ID",
      "parameters": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The unique note ID (from search_notes or list_notes)"
          }
        },
        "required": ["id"]
      }
    },
    {
      "name": "open_note",
      "description": "Open an Apple Note in the Notes app by ID. Use this when the user wants to view or edit a note directly.",
      "parameters": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The unique note ID (from search_notes or list_notes)"
          }
        },
        "required": ["id"]
      }
    },
    {
      "name": "notes_index",
      "description": "Build or check the Apple Notes tag index. Use action='build' to rebuild, action='check' to verify if index is current.",
      "parameters": {
        "type": "object",
        "properties": {
          "action": {
            "type": "string",
            "enum": ["build", "check"],
            "description": "Action to perform: 'build' rebuilds the index, 'check' verifies if it's current"
          }
        },
        "required": []
      }
    },
    {
      "name": "notes_tags",
      "description": "List all hashtags found in Apple Notes, sorted by frequency",
      "parameters": {
        "type": "object",
        "properties": {},
        "required": []
      }
    },
    {
      "name": "notes_search_by_tag",
      "description": "Find all Apple Notes with a specific hashtag",
      "parameters": {
        "type": "object",
        "properties": {
          "tag": {
            "type": "string",
            "description": "The hashtag to search for (with or without # prefix)"
          }
        },
        "required": ["tag"]
      }
    },
    {
      "name": "search_files",
      "description": "Search through files",
      "parameters": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "Search query"
          },
          "scope": {
            "type": "string",
            "description": "Search scope"
          }
        },
        "required": ["query"]
      }
    },
    {
      "name": "draft_email",
      "description": "Draft an email",
      "parameters": {
        "type": "object",
        "properties": {
          "to": {
            "type": "string",
            "description": "Recipient email address"
          },
          "subject": {
            "type": "string",
            "description": "Email subject"
          },
          "body": {
            "type": "string",
            "description": "Email body"
          }
        },
        "required": ["to", "subject"]
      }
    },
    {
      "name": "create_todo",
      "description": "Create a todo/reminder item",
      "parameters": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Todo title"
          },
          "due": {
            "type": "string",
            "description": "Due date in YYYY-MM-DD format"
          },
          "priority": {
            "type": "string",
            "description": "Priority level (low, normal, high)"
          }
        },
        "required": ["title"]
      }
    }
  ]
}
